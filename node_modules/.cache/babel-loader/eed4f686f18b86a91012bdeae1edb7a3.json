{"ast":null,"code":"var _jsxFileName = \"/Users/rodrigo/Desktop/Iris8/Projetos/03. Hub Iris8/front/repogit/front-hubiris8v2/src/App.js\",\n    _s = $RefreshSig$();\n\nimport logo from \"./assets/logo.png\";\nimport './App.css';\nimport Card from './components/Card.js';\nimport { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport https from 'https';\nimport ReactLoading from \"react-loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nlet healthjson = require(\"./heatlhstatus.json\");\n\nlet base64 = require('base-64');\n\nfunction App() {\n  _s();\n\n  const [ips, setIps] = useState(null);\n  const [statusPc, setStatusPc] = useState(null);\n  const [statusHorus, setStatusHorus] = useState(healthjson);\n  const [statusFiles, setStatusFiles] = useState(null);\n  const [statusTamanho, setStatusTamanho] = useState(null);\n  const [statusSight, setStatusSight] = useState(null);\n  const [errStatusFiles, setErrStatusFiles] = useState(true);\n  const [errStatusTamanho, setErrStatusTamanho] = useState(true);\n  const [errStatusSight, setErrStatusSight] = useState(true);\n  const headers = {\n    'Content-Type': 'application/json'\n  };\n  const username_ = \"faad25eb8bda40d0bffa519f56ff7b95@iris8.com.br\";\n  const password_ = \"4fad71be-96ef-4728-abd8-ba5e50763cf9\";\n  const basicAuth = 'Basic ' + btoa(username_ + \":\" + password_);\n  const base64data = basicAuth.toString('base64');\n  const agent = new https.Agent({\n    rejectUnauthorized: false\n  });\n\n  async function getData() {\n    Axios.get('https://hubiris8-back.herokuapp.com/hubapi/ips', {\n      headers\n    }).then(response => {\n      setIps(response[\"data\"]);\n    }).catch(error => {\n      console.log(error);\n    });\n    Axios.get('https://hubiris8-back.herokuapp.com/hubapi/statuspc', {\n      headers\n    }).then(response => {\n      setStatusPc(response[\"data\"]);\n    }).catch(error => {\n      console.log(error);\n    });\n    Axios.get('https://hubiris8-back.herokuapp.com/hubapi/statusfiles', {\n      headers\n    }).then(response => {\n      setStatusFiles(response[\"data\"]);\n      setErrStatusFiles(false);\n    }).catch(error => {\n      console.log(error);\n    });\n    Axios.get('https://hubiris8-back.herokuapp.com/hubapi/tamanhofiles', {\n      headers\n    }).then(response => {\n      setStatusTamanho(response[\"data\"]);\n      setErrStatusTamanho(false);\n    }).catch(error => {\n      console.log(error);\n    });\n    Axios.get('https://www.generalshopping.iris8.com.br/api/health/status', {\n      auth: {\n        username: 'faad25eb8bda40d0bffa519f56ff7b95@iris8.com.br',\n        password: '4fad71be-96ef-4728-abd8-ba5e50763cf9'\n      }\n    }).then(response => {\n      console.log(response[\"data\"]);\n    }).catch(error => {\n      console.log(\"TA FODA\");\n      console.log(error);\n    });\n    fetch('https://www.generalshopping.iris8.com.br/api/health/status', {\n      method: 'get',\n      headers: new Headers({\n        'Authorization': 'Basic ' + btoa('faad25eb8bda40d0bffa519f56ff7b95@iris8.com.br:4fad71be-96ef-4728-abd8-ba5e50763cf9'),\n        'Content-Type': 'application/json'\n      })\n    }).then(response => {\n      console.log(response[\"data\"]);\n    }).catch(error => {\n      console.log(\"TA FODA\");\n      console.log(error);\n    });\n    ;\n  }\n\n  function filterData(dic, id) {\n    let dicFinal = [];\n\n    for (let u in dic) {\n      if (dic[u][\"id\"] === id) {\n        dicFinal.push(dic[u]);\n      }\n    }\n\n    return dicFinal;\n  }\n\n  function filterDataAPI(id) {\n    for (let u in statusHorus) {\n      if (statusHorus[u][\"ip\"].split(\".\")[3] === id.toString()) {\n        return statusHorus[u];\n      }\n    }\n\n    return [];\n  }\n\n  const cLog = () => {\n    //console.log(shoppings);\n    //console.log(statusPc);\n    //console.log(statusFiles);\n    //console.log(statusTamanho);\n    console.log(statusSight);\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      width: \"100% !important\",\n      height: \"100% !important\",\n      fontFamily: 'Comfortaa, cursive'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        position: \"fixed\",\n        width: \"100%\",\n        height: \"50px\",\n        backgroundColor: \"#DFE0E2\",\n        boxShadow: \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n        zIndex: \"2\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            position: \"relative\",\n            left: \"15px\",\n            top: \"0\",\n            fontSize: \"15px\"\n          },\n          children: \"Central de monitoramento\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"fixed\",\n          right: \"0\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          style: {\n            height: \"38px\",\n            marginTop: \"1px\",\n            marginRight: \"0.5vh\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"100%\",\n        height: \"50px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        flexFlow: \"row wrap\",\n        width: \"100%\"\n      },\n      children: ips ? ips.map(u => {\n        return /*#__PURE__*/_jsxDEV(Card, {\n          ip: u[\"id\"],\n          statusPc: filterData(statusPc, u[\"id\"]),\n          horusHealthStatus: filterDataAPI(u[\"id\"]),\n          errHorusHealthStatus: false,\n          statusFiles: filterData(statusFiles, u[\"id\"]),\n          errStatusFiles: errStatusFiles,\n          statusTamanho: filterData(statusTamanho, u[\"id\"]),\n          errStatusTamanho: errStatusTamanho,\n          statusSight: filterData(statusSight, u[\"id\"]),\n          errStatusSight: errStatusSight\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 23\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"100%\",\n          height: \"100vh\",\n          backgroundColor: \"gray\",\n          opacity: \"50%\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(ReactLoading, {\n          type: \"spin\",\n          color: \"black\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 27\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 23\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"ipw7kACMo1QGdUTkErwTHJuTSqY=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/rodrigo/Desktop/Iris8/Projetos/03. Hub Iris8/front/repogit/front-hubiris8v2/src/App.js"],"names":["logo","Card","useState","useEffect","Axios","https","ReactLoading","healthjson","require","base64","App","ips","setIps","statusPc","setStatusPc","statusHorus","setStatusHorus","statusFiles","setStatusFiles","statusTamanho","setStatusTamanho","statusSight","setStatusSight","errStatusFiles","setErrStatusFiles","errStatusTamanho","setErrStatusTamanho","errStatusSight","setErrStatusSight","headers","username_","password_","basicAuth","btoa","base64data","toString","agent","Agent","rejectUnauthorized","getData","get","then","response","catch","error","console","log","auth","username","password","fetch","method","Headers","filterData","dic","id","dicFinal","u","push","filterDataAPI","split","cLog","display","flexDirection","width","height","fontFamily","alignItems","position","backgroundColor","boxShadow","zIndex","left","top","fontSize","right","marginTop","marginRight","flexFlow","map","opacity","justifyContent"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,mBAAjB;AACA,OAAO,WAAP;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,eAAzB;;;AACA,IAAIC,UAAU,GAAGC,OAAO,CAAC,qBAAD,CAAxB;;AAEA,IAAIC,MAAM,GAAGD,OAAO,CAAC,SAAD,CAApB;;AAIA,SAASE,GAAT,GAAe;AAAA;;AAEb,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBV,QAAQ,CAAC,IAAD,CAA9B;AACA,QAAM,CAACW,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACa,WAAD,EAAcC,cAAd,IAAgCd,QAAQ,CAACK,UAAD,CAA9C;AACA,QAAM,CAACU,WAAD,EAAcC,cAAd,IAAgChB,QAAQ,CAAC,IAAD,CAA9C;AACA,QAAM,CAACiB,aAAD,EAAgBC,gBAAhB,IAAoClB,QAAQ,CAAC,IAAD,CAAlD;AACA,QAAM,CAACmB,WAAD,EAAcC,cAAd,IAAgCpB,QAAQ,CAAC,IAAD,CAA9C;AAEA,QAAM,CAACqB,cAAD,EAAiBC,iBAAjB,IAAsCtB,QAAQ,CAAC,IAAD,CAApD;AACA,QAAM,CAACuB,gBAAD,EAAmBC,mBAAnB,IAA0CxB,QAAQ,CAAC,IAAD,CAAxD;AACA,QAAM,CAACyB,cAAD,EAAiBC,iBAAjB,IAAsC1B,QAAQ,CAAC,IAAD,CAApD;AAEA,QAAM2B,OAAO,GAAG;AACd,oBAAgB;AADF,GAAhB;AAIA,QAAMC,SAAS,GAAG,+CAAlB;AACA,QAAMC,SAAS,GAAG,sCAAlB;AACA,QAAMC,SAAS,GAAG,WAAWC,IAAI,CAACH,SAAS,GAAG,GAAZ,GAAkBC,SAAnB,CAAjC;AACA,QAAMG,UAAU,GAAGF,SAAS,CAACG,QAAV,CAAmB,QAAnB,CAAnB;AAEA,QAAMC,KAAK,GAAG,IAAI/B,KAAK,CAACgC,KAAV,CAAgB;AAC5BC,IAAAA,kBAAkB,EAAE;AADQ,GAAhB,CAAd;;AAIA,iBAAeC,OAAf,GAA0B;AAEtBnC,IAAAA,KAAK,CAACoC,GAAN,CAAU,gDAAV,EAA4D;AAACX,MAAAA;AAAD,KAA5D,EACOY,IADP,CACaC,QAAD,IAAc;AAChB9B,MAAAA,MAAM,CAAC8B,QAAQ,CAAC,MAAD,CAAT,CAAN;AACH,KAHP,EAIOC,KAJP,CAIcC,KAAD,IAAW;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KANP;AAQAxC,IAAAA,KAAK,CAACoC,GAAN,CAAU,qDAAV,EAAiE;AAACX,MAAAA;AAAD,KAAjE,EACOY,IADP,CACaC,QAAD,IAAc;AAChB5B,MAAAA,WAAW,CAAC4B,QAAQ,CAAC,MAAD,CAAT,CAAX;AACH,KAHP,EAIOC,KAJP,CAIcC,KAAD,IAAW;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KANP;AAQAxC,IAAAA,KAAK,CAACoC,GAAN,CAAU,wDAAV,EAAoE;AAACX,MAAAA;AAAD,KAApE,EACOY,IADP,CACaC,QAAD,IAAc;AAChBxB,MAAAA,cAAc,CAACwB,QAAQ,CAAC,MAAD,CAAT,CAAd;AACAlB,MAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACH,KAJP,EAKOmB,KALP,CAKcC,KAAD,IAAW;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KAPP;AASAxC,IAAAA,KAAK,CAACoC,GAAN,CAAU,yDAAV,EAAqE;AAACX,MAAAA;AAAD,KAArE,EACOY,IADP,CACaC,QAAD,IAAc;AAClBtB,MAAAA,gBAAgB,CAACsB,QAAQ,CAAC,MAAD,CAAT,CAAhB;AACAhB,MAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACD,KAJP,EAKOiB,KALP,CAKcC,KAAD,IAAW;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KAPP;AASAxC,IAAAA,KAAK,CAACoC,GAAN,CAAU,4DAAV,EAAwE;AAChEO,MAAAA,IAAI,EAAE;AACHC,QAAAA,QAAQ,EAAE,+CADP;AAEHC,QAAAA,QAAQ,EAAE;AAFP;AAD0D,KAAxE,EAMMR,IANN,CAMYC,QAAD,IAAc;AACnBG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAAC,MAAD,CAApB;AACD,KARL,EASKC,KATL,CASYC,KAAD,IAAW;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KAZL;AAeEM,IAAAA,KAAK,CAAC,4DAAD,EAA+D;AAClEC,MAAAA,MAAM,EAAE,KAD0D;AAElEtB,MAAAA,OAAO,EAAE,IAAIuB,OAAJ,CAAY;AACnB,yBAAiB,WAASnB,IAAI,CAAC,oFAAD,CADX;AAEnB,wBAAgB;AAFG,OAAZ;AAFyD,KAA/D,CAAL,CAOCQ,IAPD,CAOOC,QAAD,IAAc;AAClBG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAAC,MAAD,CAApB;AACD,KATD,EAUCC,KAVD,CAUQC,KAAD,IAAW;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KAbD;AAcA;AAEL;;AAED,WAASS,UAAT,CAAqBC,GAArB,EAA0BC,EAA1B,EAA8B;AAC5B,QAAIC,QAAQ,GAAG,EAAf;;AACA,SAAK,IAAIC,CAAT,IAAcH,GAAd,EAAkB;AAChB,UAAIA,GAAG,CAACG,CAAD,CAAH,CAAO,IAAP,MAAiBF,EAArB,EAAwB;AACtBC,QAAAA,QAAQ,CAACE,IAAT,CAAcJ,GAAG,CAACG,CAAD,CAAjB;AACD;AACF;;AACD,WAAQD,QAAR;AACD;;AAED,WAASG,aAAT,CAAwBJ,EAAxB,EAA2B;AAEzB,SAAK,IAAIE,CAAT,IAAc1C,WAAd,EAA0B;AACxB,UAAIA,WAAW,CAAC0C,CAAD,CAAX,CAAe,IAAf,EAAqBG,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,MAAuCL,EAAE,CAACpB,QAAH,EAA3C,EAAyD;AACvD,eAAOpB,WAAW,CAAC0C,CAAD,CAAlB;AACD;AACF;;AACD,WAAO,EAAP;AACD;;AAGD,QAAMI,IAAI,GAAG,MAAM;AACjB;AACA;AACA;AACA;AACAhB,IAAAA,OAAO,CAACC,GAAR,CAAYzB,WAAZ;AACD,GAND;;AAQAlB,EAAAA,SAAS,CAAC,MAAM;AAEdoC,IAAAA,OAAO;AAER,GAJQ,EAIN,EAJM,CAAT;AAMA,sBACE;AAAK,IAAA,KAAK,EAAE;AAACuB,MAAAA,OAAO,EAAC,MAAT;AAAiBC,MAAAA,aAAa,EAAC,QAA/B;AAAyCC,MAAAA,KAAK,EAAC,iBAA/C;AAAkEC,MAAAA,MAAM,EAAC,iBAAzE;AAA4FC,MAAAA,UAAU,EAAE;AAAxG,KAAZ;AAAA,4BACE;AAAK,MAAA,KAAK,EAAE;AAACJ,QAAAA,OAAO,EAAC,MAAT;AAAiBC,QAAAA,aAAa,EAAC,KAA/B;AAAsCI,QAAAA,UAAU,EAAC,QAAjD;AAA2DC,QAAAA,QAAQ,EAAC,OAApE;AAA6EJ,QAAAA,KAAK,EAAC,MAAnF;AAA2FC,QAAAA,MAAM,EAAC,MAAlG;AAA0GI,QAAAA,eAAe,EAAC,SAA1H;AACCC,QAAAA,SAAS,EAAC,kEADX;AAC+EC,QAAAA,MAAM,EAAC;AADtF,OAAZ;AAAA,8BAEE;AAAA,+BACE;AAAI,UAAA,KAAK,EAAE;AAACH,YAAAA,QAAQ,EAAC,UAAV;AAAsBI,YAAAA,IAAI,EAAC,MAA3B;AAAmCC,YAAAA,GAAG,EAAC,GAAvC;AAA4CC,YAAAA,QAAQ,EAAC;AAArD,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFF,eAKE;AAAK,QAAA,KAAK,EAAE;AAACN,UAAAA,QAAQ,EAAC,OAAV;AAAmBO,UAAAA,KAAK,EAAC;AAAzB,SAAZ;AAAA,+BACE;AAAK,UAAA,GAAG,EAAE3E,IAAV;AAAgB,UAAA,KAAK,EAAE;AAACiE,YAAAA,MAAM,EAAC,MAAR;AAAgBW,YAAAA,SAAS,EAAC,KAA1B;AAAiCC,YAAAA,WAAW,EAAC;AAA7C;AAAvB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cALF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAUE;AAAK,MAAA,KAAK,EAAE;AAACb,QAAAA,KAAK,EAAC,MAAP;AAAeC,QAAAA,MAAM,EAAC;AAAtB;AAAZ;AAAA;AAAA;AAAA;AAAA,YAVF,eAWE;AAAK,MAAA,KAAK,EAAE;AAACG,QAAAA,QAAQ,EAAC,UAAV;AAAsBN,QAAAA,OAAO,EAAC,MAA9B;AAAsCC,QAAAA,aAAa,EAAC,KAApD;AAA2De,QAAAA,QAAQ,EAAC,UAApE;AAAgFd,QAAAA,KAAK,EAAC;AAAtF,OAAZ;AAAA,gBAECrD,GAAG,GAAIA,GAAG,CAACoE,GAAJ,CAAQtB,CAAC,IAAI;AACP,4BACE,QAAC,IAAD;AACE,UAAA,EAAE,EAAIA,CAAC,CAAC,IAAD,CADT;AAEE,UAAA,QAAQ,EAAIJ,UAAU,CAACxC,QAAD,EAAW4C,CAAC,CAAC,IAAD,CAAZ,CAFxB;AAIE,UAAA,iBAAiB,EAAIE,aAAa,CAACF,CAAC,CAAC,IAAD,CAAF,CAJpC;AAKE,UAAA,oBAAoB,EAAI,KAL1B;AAOE,UAAA,WAAW,EAAIJ,UAAU,CAACpC,WAAD,EAAcwC,CAAC,CAAC,IAAD,CAAf,CAP3B;AAQE,UAAA,cAAc,EAAIlC,cARpB;AAUE,UAAA,aAAa,EAAI8B,UAAU,CAAClC,aAAD,EAAgBsC,CAAC,CAAC,IAAD,CAAjB,CAV7B;AAWE,UAAA,gBAAgB,EAAIhC,gBAXtB;AAaE,UAAA,WAAW,EAAI4B,UAAU,CAAChC,WAAD,EAAcoC,CAAC,CAAC,IAAD,CAAf,CAb3B;AAcE,UAAA,cAAc,EAAI9B;AAdpB;AAAA;AAAA;AAAA;AAAA,gBADF;AAiBE,OAlBR,CAAJ,gBAmBY;AAAK,QAAA,KAAK,EAAE;AAACqC,UAAAA,KAAK,EAAC,MAAP;AAAeC,UAAAA,MAAM,EAAC,OAAtB;AAA+BI,UAAAA,eAAe,EAAC,MAA/C;AAAuDW,UAAAA,OAAO,EAAC,KAA/D;AAAsElB,UAAAA,OAAO,EAAC,MAA9E;AAAsFK,UAAAA,UAAU,EAAC,QAAjG;AAA2Gc,UAAAA,cAAc,EAAC;AAA1H,SAAZ;AAAA,+BACI,QAAC,YAAD;AAAc,UAAA,IAAI,EAAE,MAApB;AAA4B,UAAA,KAAK,EAAE;AAAnC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AArBhB;AAAA;AAAA;AAAA;AAAA,YAXF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAyCD;;GA3KQvE,G;;KAAAA,G;AA6KT,eAAeA,GAAf","sourcesContent":["import logo from \"./assets/logo.png\";\nimport './App.css';\nimport Card from './components/Card.js'\nimport { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport https from 'https';\nimport ReactLoading from \"react-loading\";\nlet healthjson = require(\"./heatlhstatus.json\");\n\nlet base64 = require('base-64');\n\n\n\nfunction App() {\n\n  const [ips, setIps] = useState(null);\n  const [statusPc, setStatusPc] = useState(null);\n  const [statusHorus, setStatusHorus] = useState(healthjson);\n  const [statusFiles, setStatusFiles] = useState(null);\n  const [statusTamanho, setStatusTamanho] = useState(null);\n  const [statusSight, setStatusSight] = useState(null);\n\n  const [errStatusFiles, setErrStatusFiles] = useState(true);\n  const [errStatusTamanho, setErrStatusTamanho] = useState(true);\n  const [errStatusSight, setErrStatusSight] = useState(true);\n\n  const headers = {\n    'Content-Type': 'application/json',\n  };\n\n  const username_ = \"faad25eb8bda40d0bffa519f56ff7b95@iris8.com.br\";\n  const password_ = \"4fad71be-96ef-4728-abd8-ba5e50763cf9\";\n  const basicAuth = 'Basic ' + btoa(username_ + \":\" + password_);\n  const base64data = basicAuth.toString('base64');\n\n  const agent = new https.Agent({  \n    rejectUnauthorized: false\n   });\n\n  async function getData () {\n\n      Axios.get('https://hubiris8-back.herokuapp.com/hubapi/ips', {headers})\n            .then((response) => {\n                setIps(response[\"data\"]);\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n\n      Axios.get('https://hubiris8-back.herokuapp.com/hubapi/statuspc', {headers})\n            .then((response) => {\n                setStatusPc(response[\"data\"]);\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n\n      Axios.get('https://hubiris8-back.herokuapp.com/hubapi/statusfiles', {headers})\n            .then((response) => {\n                setStatusFiles(response[\"data\"]);\n                setErrStatusFiles(false);\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n\n      Axios.get('https://hubiris8-back.herokuapp.com/hubapi/tamanhofiles', {headers})\n            .then((response) => {\n              setStatusTamanho(response[\"data\"]);\n              setErrStatusTamanho(false);\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n\n      Axios.get('https://www.generalshopping.iris8.com.br/api/health/status', {\n              auth: { \n                 username: 'faad25eb8bda40d0bffa519f56ff7b95@iris8.com.br', \n                 password: '4fad71be-96ef-4728-abd8-ba5e50763cf9' \n              }\n           })\n           .then((response) => {\n            console.log(response[\"data\"]);\n          })\n          .catch((error) => {\n              console.log(\"TA FODA\")\n              console.log(error);\n          });\n\n      \n        fetch('https://www.generalshopping.iris8.com.br/api/health/status', { \n          method: 'get', \n          headers: new Headers({\n            'Authorization': 'Basic '+btoa('faad25eb8bda40d0bffa519f56ff7b95@iris8.com.br:4fad71be-96ef-4728-abd8-ba5e50763cf9'), \n            'Content-Type': 'application/json'\n          })\n        })\n        .then((response) => {\n          console.log(response[\"data\"]);\n        })\n        .catch((error) => {\n            console.log(\"TA FODA\")\n            console.log(error);\n        });\n        ;\n\n  }\n\n  function filterData (dic, id) {\n    let dicFinal = [];\n    for (let u in dic){\n      if (dic[u][\"id\"] === id){\n        dicFinal.push(dic[u]);\n      }\n    }\n    return (dicFinal);\n  }\n\n  function filterDataAPI (id){\n    \n    for (let u in statusHorus){\n      if (statusHorus[u][\"ip\"].split(\".\")[3] === id.toString()){\n        return statusHorus[u];\n      }\n    }\n    return [];\n  }\n\n\n  const cLog = () => {\n    //console.log(shoppings);\n    //console.log(statusPc);\n    //console.log(statusFiles);\n    //console.log(statusTamanho);\n    console.log(statusSight);\n  }\n\n  useEffect(() => {\n\n    getData();\n\n  }, []);\n\n  return (\n    <div style={{display:\"flex\", flexDirection:\"column\", width:\"100% !important\", height:\"100% !important\", fontFamily: 'Comfortaa, cursive'}}>\n      <div style={{display:\"flex\", flexDirection:\"row\", alignItems:\"center\", position:\"fixed\", width:\"100%\", height:\"50px\", backgroundColor:\"#DFE0E2\",\n                   boxShadow:\"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\", zIndex:\"2\"}}>\n        <div>\n          <h2 style={{position:\"relative\", left:\"15px\", top:\"0\", fontSize:\"15px\"}}>Central de monitoramento</h2>\n        </div>\n        <div style={{position:\"fixed\", right:\"0\"}}>\n          <img src={logo} style={{height:\"38px\", marginTop:\"1px\", marginRight:\"0.5vh\"}}/>\n        </div>\n      </div>\n      <div style={{width:\"100%\", height:\"50px\"}}></div>\n      <div style={{position:\"relative\", display:\"flex\", flexDirection:\"row\", flexFlow:\"row wrap\", width:\"100%\"}}>\n        \n      {ips ? (ips.map(u => {\n                    return (\n                      <Card \n                        ip = {u[\"id\"]}\n                        statusPc = {filterData(statusPc, u[\"id\"])}\n                  \n                        horusHealthStatus = {filterDataAPI(u[\"id\"])}\n                        errHorusHealthStatus = {false}\n\n                        statusFiles = {filterData(statusFiles, u[\"id\"])}\n                        errStatusFiles = {errStatusFiles}\n\n                        statusTamanho = {filterData(statusTamanho, u[\"id\"])}\n                        errStatusTamanho = {errStatusTamanho}\n\n                        statusSight = {filterData(statusSight, u[\"id\"])}\n                        errStatusSight = {errStatusSight}\n                      ></Card>\n                    )})):(\n                      <div style={{width:\"100%\", height:\"100vh\", backgroundColor:\"gray\", opacity:\"50%\", display:\"flex\", alignItems:\"center\", justifyContent:\"center\"}}>\n                          <ReactLoading type={\"spin\"} color={\"black\"} />\n                      </div>\n                    )}\n\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}